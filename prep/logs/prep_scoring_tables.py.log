> poetry run python3 prep_scoring_tables.py --input-dir ../tables/ --verbose
Loading score files from: ../tables/
  âœ“ 'NA' key pair preserved in keypair_comfort_scores.csv
Loaded 1024 rows from keypair_comfort_scores.csv
  Score range: -1.442261 - -0.061130
  âœ“ Loaded comfort_score from keypair_comfort_scores.csv
  âœ“ 'NA' key pair preserved in keypair_dvorak7_scores.csv
Loaded 1024 rows from keypair_dvorak7_scores.csv
  Score range: 0.500000 - 7.000000
  âœ“ Loaded dvorak7_score from keypair_dvorak7_scores.csv
  âš  Missing keypair_engram_scores.csv, skipping engram_score
  âœ“ 'NA' key pair preserved in keypair_dvorak7_repetition_scores.csv
Loaded 1024 rows from keypair_dvorak7_repetition_scores.csv
  Score range: 0.000000 - 1.000000
  âœ“ Loaded dvorak7_repetition from keypair_dvorak7_repetition_scores.csv
  âœ“ 'NA' key pair preserved in keypair_dvorak7_movement_scores.csv
Loaded 1024 rows from keypair_dvorak7_movement_scores.csv
  Score range: 0.000000 - 1.000000
  âœ“ Loaded dvorak7_movement from keypair_dvorak7_movement_scores.csv
  âœ“ 'NA' key pair preserved in keypair_dvorak7_vertical_scores.csv
Loaded 1024 rows from keypair_dvorak7_vertical_scores.csv
  Score range: 0.000000 - 1.000000
  âœ“ Loaded dvorak7_vertical from keypair_dvorak7_vertical_scores.csv
  âœ“ 'NA' key pair preserved in keypair_dvorak7_horizontal_scores.csv
Loaded 1024 rows from keypair_dvorak7_horizontal_scores.csv
  Score range: 0.000000 - 1.000000
  âœ“ Loaded dvorak7_horizontal from keypair_dvorak7_horizontal_scores.csv
  âœ“ 'NA' key pair preserved in keypair_dvorak7_adjacent_scores.csv
Loaded 1024 rows from keypair_dvorak7_adjacent_scores.csv
  Score range: 0.000000 - 1.000000
  âœ“ Loaded dvorak7_adjacent from keypair_dvorak7_adjacent_scores.csv
  âœ“ 'NA' key pair preserved in keypair_dvorak7_weak_scores.csv
Loaded 1024 rows from keypair_dvorak7_weak_scores.csv
  Score range: 0.000000 - 1.000000
  âœ“ Loaded dvorak7_weak from keypair_dvorak7_weak_scores.csv
  âœ“ 'NA' key pair preserved in keypair_dvorak7_outward_scores.csv
Loaded 1024 rows from keypair_dvorak7_outward_scores.csv
  Score range: 0.000000 - 1.000000
  âœ“ Loaded dvorak7_outward from keypair_dvorak7_outward_scores.csv
  âš  Missing 'distance_score' column in keypair_distance_scores.csv
    Available columns: ['key_pair', 'distance_setup', 'distance_interval', 'distance_return', 'distance_total']
  âš  Skipping distance_score from keypair_distance_scores.csv (column not found)
  âš  Missing 'time_score' column in keypair_time_scores.csv
    Available columns: ['key_pair', 'time_setup', 'time_interval', 'time_return', 'time_total', 'setup_source', 'interval_source', 'return_source']
  âš  Skipping time_score from keypair_time_scores.csv (column not found)
Loaded 1024 rows from keypair_distance_scores.csv
  distance_setup range: 0.000000 - 34.669872
  distance_interval range: 0.000000 - 50.990195
  distance_return range: 0.000000 - 65.280327
  distance_total range: 0.000000 - 130.560655
  âœ“ Loaded detailed distance scores from keypair_distance_scores.csv
    Components: distance_setup, distance_interval, distance_return, distance_total
Loaded 1024 rows from keypair_time_scores.csv
  time_setup range: 200.000000 - 400.000000
  time_interval range: 102.000000 - 448.000000
  time_return range: 200.000000 - 400.000000
  time_total range: 571.607151 - 1248.075636
  âœ“ Loaded detailed time scores from keypair_time_scores.csv
    Components: time_setup, time_interval, time_return, time_total

Unified dataframe has 1024 rows
Score columns: ['distance_setup', 'distance_interval', 'distance_return', 'distance_total', 'time_setup', 'time_interval', 'time_return', 'time_total', 'comfort_score', 'dvorak7_score', 'dvorak7_repetition', 'dvorak7_movement', 'dvorak7_vertical', 'dvorak7_horizontal', 'dvorak7_adjacent', 'dvorak7_weak', 'dvorak7_outward']

Applying universal normalization to score columns:
  distance_setup: Universal range [0, 35], 0 values clipped
    Original range: [0.000, 34.670]
    Normalized range: [0.000, 0.991]
    Added distance_setup_normalized (range: 0.000000 - 0.990568)
  distance_interval: Universal range [0, 55], 0 values clipped
    Original range: [0.000, 50.990]
    Normalized range: [0.000, 0.927]
    Added distance_interval_normalized (range: 0.000000 - 0.927094)
  distance_return: Universal range [0, 70], 0 values clipped
    Original range: [0.000, 65.280]
    Normalized range: [0.000, 0.933]
    Added distance_return_normalized (range: 0.000000 - 0.932576)
  distance_total: Universal range [0, 135], 0 values clipped
    Original range: [0.000, 130.561]
    Normalized range: [0.000, 0.967]
    Added distance_total_normalized (range: 0.000000 - 0.967116)
  time_setup: Universal range [200, 400], 0 values clipped
    Original range: [200.000, 400.000]
    Normalized range: [0.000, 1.000]
    Added time_setup_normalized (range: 0.000000 - 1.000000)
  time_interval: Universal range [100, 450], 0 values clipped
    Original range: [102.000, 448.000]
    Normalized range: [0.006, 0.994]
    Added time_interval_normalized (range: 0.005714 - 0.994286)
  time_return: Universal range [200, 400], 0 values clipped
    Original range: [200.000, 400.000]
    Normalized range: [0.000, 1.000]
    Added time_return_normalized (range: 0.000000 - 1.000000)
  time_total: Universal range [570, 1250], 0 values clipped
    Original range: [571.607, 1248.076]
    Normalized range: [0.002, 0.997]
    Added time_total_normalized (range: 0.002363 - 0.997170)
  comfort_score: Universal range [-1.5, 0.0], 0 values clipped
    Original range: [-1.442, -0.061]
    Normalized range: [0.038, 0.959]
    Added comfort_score_normalized (range: 0.038493 - 0.959247)
  dvorak7_score: Universal range [0, 7], 0 values clipped
    Original range: [0.500, 7.000]
    Normalized range: [0.071, 1.000]
    Added dvorak7_score_normalized (range: 0.071429 - 1.000000)
  dvorak7_repetition: Universal range [0, 1], 0 values clipped
    Original range: [0.000, 1.000]
    Normalized range: [0.000, 1.000]
    Added dvorak7_repetition_normalized (range: 0.000000 - 1.000000)
  dvorak7_movement: Universal range [0, 1], 0 values clipped
    Original range: [0.000, 1.000]
    Normalized range: [0.000, 1.000]
    Added dvorak7_movement_normalized (range: 0.000000 - 1.000000)
  dvorak7_vertical: Universal range [0, 1], 0 values clipped
    Original range: [0.000, 1.000]
    Normalized range: [0.000, 1.000]
    Added dvorak7_vertical_normalized (range: 0.000000 - 1.000000)
  dvorak7_horizontal: Universal range [0, 1], 0 values clipped
    Original range: [0.000, 1.000]
    Normalized range: [0.000, 1.000]
    Added dvorak7_horizontal_normalized (range: 0.000000 - 1.000000)
  dvorak7_adjacent: Universal range [0, 1], 0 values clipped
    Original range: [0.000, 1.000]
    Normalized range: [0.000, 1.000]
    Added dvorak7_adjacent_normalized (range: 0.000000 - 1.000000)
  dvorak7_weak: Universal range [0, 1], 0 values clipped
    Original range: [0.000, 1.000]
    Normalized range: [0.000, 1.000]
    Added dvorak7_weak_normalized (range: 0.000000 - 1.000000)
  dvorak7_outward: Universal range [0, 1], 0 values clipped
    Original range: [0.000, 1.000]
    Normalized range: [0.000, 1.000]
    Added dvorak7_outward_normalized (range: 0.000000 - 1.000000)

ðŸŽ¯ Creating composite scores from detailed components...
  âœ“ Dvorak7: Composite from 15 components
  âœ“ Time: Using time_total
  âœ“ Distance: Using distance_total
  âœ“ Comfort: Using comfort_score

Applying universal normalization to composite scores:
  dvorak7_score: Universal range [0, 7], 0 values clipped
    Original range: [0.071, 1.000]
    Normalized range: [0.010, 0.143]
    Added dvorak7_score_normalized (range: 0.010204 - 0.142857)
  time_score: Universal range [570, 1250], 0 values clipped
    Original range: [571.607, 1248.076]
    Normalized range: [0.002, 0.997]
    Added time_score_normalized (range: 0.002363 - 0.997170)
  distance_score: Universal range [0, 135], 0 values clipped
    Original range: [0.000, 130.561]
    Normalized range: [0.000, 0.967]
    Added distance_score_normalized (range: 0.000000 - 0.967116)
  comfort_score: Universal range [-1.5, 0.0], 0 values clipped
    Original range: [-1.442, -0.061]
    Normalized range: [0.038, 0.959]
    Added comfort_score_normalized (range: 0.038493 - 0.959247)

Saved detailed scoring table to: ../tables/keypair_scores_detailed.csv
  Table contains 1024 rows and 35 columns
  Detailed columns: ['key_pair', 'comfort_score', 'distance_interval', 'distance_return', 'distance_setup', 'distance_total', 'dvorak7_adjacent', 'dvorak7_horizontal', 'dvorak7_movement', 'dvorak7_outward', 'dvorak7_repetition', 'dvorak7_score', 'dvorak7_vertical', 'dvorak7_weak', 'time_interval', 'time_return', 'time_setup', 'time_total', 'comfort_score_normalized', 'distance_interval_normalized', 'distance_return_normalized', 'distance_setup_normalized', 'distance_total_normalized', 'dvorak7_adjacent_normalized', 'dvorak7_horizontal_normalized', 'dvorak7_movement_normalized', 'dvorak7_outward_normalized', 'dvorak7_repetition_normalized', 'dvorak7_score_normalized', 'dvorak7_vertical_normalized', 'dvorak7_weak_normalized', 'time_interval_normalized', 'time_return_normalized', 'time_setup_normalized', 'time_total_normalized']

Saved composite scoring table to: ../tables/keypair_scores_composite.csv
  Table contains 1024 rows and 9 columns
  Composite columns: ['key_pair', 'comfort_score', 'distance_score', 'dvorak7_score', 'time_score', 'comfort_score_normalized', 'distance_score_normalized', 'dvorak7_score_normalized', 'time_score_normalized']

Composite score statistics:
  dvorak7_score: 0.071429 - 1.000000 (mean: 0.640067)
  time_score: 571.607151 - 1248.075636 (mean: 839.122335)
  distance_score: 0.000000 - 130.560655 (mean: 63.147447)
  comfort_score: -1.442261 - -0.061130 (mean: -0.801436)
  âœ“ 'NA' key pair preserved in comfort scores
  comfort_score: Universal range [-1.5, 0.0], 0 values clipped
    Original range: [-1.442, -0.061]
    Normalized range: [0.038, 0.959]

Created key comfort scores table: ../tables/key_scores.csv
  Keys: 32 individual keys
  Score range: 0.038493 - 0.959247
  Mean score: 0.480644

Successfully created scoring tables:
  - Detailed scores: ../tables/keypair_scores_detailed.csv
  - Composite scores: ../tables/keypair_scores_composite.csv
  - Key scores: ../tables/key_scores.csv
